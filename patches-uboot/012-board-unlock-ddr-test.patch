Index: u-boot-2025.01/arch/arm/mach-sunxi/board.c
===================================================================
--- u-boot-2025.01.orig/arch/arm/mach-sunxi/board.c
+++ u-boot-2025.01/arch/arm/mach-sunxi/board.c
@@ -16,6 +16,7 @@
 #include <i2c.h>
 #include <serial.h>
 #include <spl.h>
+#include <hang.h>
 #include <sunxi_gpio.h>
 #include <asm/cache.h>
 #include <asm/gpio.h>
@@ -467,6 +468,16 @@ void board_init_f(ulong dummy)
 	clock_init();
 	timer_init();
 	gpio_init();
+	/* [STAY_AWAKE] Unlock Power Gating (0x128) */
+	*(volatile unsigned int *)0x02000128 = 0x00000074;
+	/* DDR Loopback Test (0x40000000) */
+	{
+		volatile unsigned int *p = (unsigned int *)0x40000000;
+		p[0] = 0x11223344; p[1] = 0x55667788;
+		if (p[0] != 0x11223344 || p[1] != 0x55667788) {
+			hang();
+		}
+	}
 
 	spl_init();
 	preloader_console_init();
